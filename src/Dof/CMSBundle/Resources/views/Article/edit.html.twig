{% extends '::layout.html.twig' %}

{% block title %}
    Édition de "{{ article.getName(locales()) }}" - Dofawa
{% endblock %}

{% block breadcrumb %}
    {{ parent() }}
    <li>Édition de "{{ article.getName(locales()) }}"</li>
{% endblock %}

{% block body %}
    <form method="POST" class="form-horizontal">
        <div class="form-group">
            <label for="inputName" class="col-sm-2 control-label">Nom</label>
            <div class="col-sm-10">
                <input name="article[name]" type="text" class="form-control" id="inputName" value="{{ article.getName(app.request.locale) }}">
            </div>
        </div>
        <div class="form-group">
            <label for="inputContent" class="col-sm-2 control-label">Contenu</label>
            <div class="col-sm-10">
                <textarea name="article[description]" id="inputContent">
                    {{ article.getDescription(app.request.locale) }}
                </textarea>
            </div>
        </div>
        {% if article.questArticle %}
        <div class="form-group">
            <label for="inputQuest" class="col-sm-2 control-label">Quête</label>
            <div class="col-sm-10">
                <select name="article[options[quest]]" id="inputQuest">
                    {% for quest in quests %}
                        <option {% if article.quest == quest %}selected="selected" {% endif %}value="{{ quest.id }}">{{ quest.getName(locales) }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        {% elseif article.dungeonArticle %}
        <div class="form-group">
            <label for="inputDungeon" class="col-sm-2 control-label">Donjon</label>
            <div class="col-sm-10">
                <select name="article[options[dungeon]]" id="inputDungeon">
                    {% for dungeon in dungeons %}
                        <option {% if article.dungeon == dungeon %}selected="selected" {% endif %}value="{{ dungeon.id }}">{{ dungeon.getName(locales) }}</option>
                    {% endfor %}
                </textarea>
            </div>
        </div>
        {% endif %}
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-default">Proposer</button>
            </div>
        </div>
    </form>
{% endblock %}
