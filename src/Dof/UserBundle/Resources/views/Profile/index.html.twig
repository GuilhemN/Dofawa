{% extends "::layout.html.twig" %}

{% block breadcrumb %}
	<li>{{ 'of'|trans({'%name%': user.username }, 'profile')}}</li>
{% endblock %}

{% block body %}

<div class="col-md-12">
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="row">
				<div class="col-xs-12 col-sm-8">
					<h2>{{ 'profil' | trans({}, 'profile') }}</h2>
					<p><strong>{{ 'inputs.nbvisits' | trans({}, 'profile') }}: </strong> {{ user.nbvisite }} </p>
					<p><strong>{{ 'inputs.point' | trans({}, 'profile') }}</strong> : {{ user.point }}</p>
					<p><strong>{{ 'inputs.date.born' | trans({}, 'profile') }}</strong> : {{ user.born | date('d-m-Y') }}</p>
					<p><strong>{{ 'inputs.location' | trans({}, 'profile') }}</strong> : {{ user.lieu }}</p>
					<p><strong>{{ 'inputs.guild' | trans({}, 'profile') }}</strong> : {{ user.guilde }}</p>
					<p><strong>{{ 'inputs.website' | trans({}, 'profile') }}</strong> : {{ user.site }}</p>
				</div><!--/col-->
				<div class="col-xs-12 col-sm-4 text-center">
					<img src="{{ asset(user.getWebPath()) }}" alt="" class="center-block img-circle img-responsive">
				</div><!--/col-->
			</div>
		</div><!--/panel-body-->
	</div><!--/panel-->
</div>

<div class="col-md-12">
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="row">
			{% for badge in badges %}
			  <div class="col-xs-6 col-md-3">
			    <img src="{{ asset(badge.getWebPath()) }}" title="{{ badge.getDescription(locales()) }}" class="img-circle img-responsive">
			    {{ badge.name }}
			  </div>
			  {% else %}
			  <h3 class="text-center">Aucun badge !</h3>
			{% endfor %}
			</div>
		</div><!--/panel-body-->
	</div><!--/panel-->
</div>

<div class="row">
	{% for character in user.builds %}
	<div class="col-sm-6 col-md-4">
		<div class="thumbnail">
			{% include 'DofGraphicsBundle:Component:renderer.html.twig' with {
				'look': character.stuffs[0].look.toEntityLook()
			} only %}
			<div class="caption">
				<h3>{{ character.name }}</h3>
				<p>{{ 'level' | trans({'%level%': character.level}, 'item')}}</p>
				<p><a href="{{ path('dof_build_show', {'user': character.owner.slug, 'character': character.slug, 'stuff': character.stuffs[0].slug}) }}" class="btn btn-primary" role="button">See</a> <a href="#" class="btn btn-default" role="button">Button</a></p>
			</div>
		</div>
	</div>
	{% endfor %}
</div>

{% if app.user is not null and app.user.id == user.id %}
	{# Edition du profil #}
	<a href="{{ path('fos_user_profile_edit') }}" class="btn btn-primary">{{ 'edit' | trans({}, 'generalTrans') }}</a>
	{# Changement de mot de passe #}
	<a href="{{ path('fos_user_change_password') }}" class="btn btn-default">{{ 'change_password.submit' | trans({}, 'FOSUserBundle')}}</a>
{% endif %}

{% endblock %}
